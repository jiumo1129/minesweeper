# Project TODO

- [x] 移除Tab导航，改为单屏全屏布局
- [x] 实现扫雷核心游戏逻辑（生成棋盘、放置地雷、计算数字）
- [x] 实现格子点击翻开功能（含自动展开空白区域）
- [x] 实现第一次点击安全机制
- [x] 实现插旗功能与模式切换
- [x] 实现三种难度模式（初级/中级/专家）
- [x] 实现游戏状态管理（进行中/胜利/失败）
- [x] 实现计时器功能
- [x] 实现剩余地雷计数
- [x] 实现表情按钮重新开始功能
- [x] 实现游戏结束时显示所有地雷
- [x] 实现数字颜色区分（1-8不同颜色）
- [x] 极简UI设计与主题配色
- [x] 生成应用图标
- [x] 适配暗色模式（使用系统颜色方案）
- [x] 实现长按格子插旗/取消旗帜功能（挖掘模式下无需切换）
- [x] 长按时触发触觉反馈（haptics）
- [x] 长按视觉反馈（缩放动画反馈）
- [x] 获取网易云音乐歌单数据（歌曲列表、封面等）
- [x] 实现悬浮音乐按钮（右下角）
- [x] 实现歌单页面（底部弹出Sheet）
- [x] 实现音乐播放/暂停/上一首/下一首（网易云外链播放器提供）
- [x] 实现播放进度条显示（网易云外链播放器提供）
- [x] 实现歌曲列表展示与切换
- [x] 播放时显示过小播放器（歌单封面+歌曲列表+内嵌播放器）
- [x] 获取歌单全部288首歌曲完整数据
- [x] 更新歌单组件展示完整歌曲列表（可滚动，支持搜索、点击切歌）
- [x] 修复关闭歌单界面后音乐停止的问题（改为常驻后台WebView，关闭时仅滑出动画不卸载）
- [x] 添加过小播放条（关闭歌单后音乐持续后台播放）
- [x] 实现迷你播放条组件（显示歌名+歌手，支持播放/暂停）
- [x] 通过WebView注入JS同步播放状态（播放/暂停）
- [x] 点击迷你播放条重新打开歌单界面
- [x] 迷你播放条在歌单关闭后自动显示
- [x] 修复迷你播放条不显示问题（将MiniPlayerBar移入ScreenContainer内部，absolute定位正确）
- [x] 修复棋盘与底部按钮之间的大块空白布局- [x] 创建 MusicContext全局状态管理音乐播放器
- [x] 将MusicPlayer和MiniPlayerBar移至根布局层（app/_layout.tsx）
- [x] 从index.tsx中移除音乐播放器相关代码，改用MusicContext
- [x] 悬浮音乐按钮支持拖动（PanResponder手势）
- [x] 拖动松手后自动吸附到左右边缘（Spring弹性动画）
- [x] 拖动期间区分点击与拖动（位移小于6px视为点击）
